#!/usr/bin/env sh
set -euo pipefail

echo "ğŸ§¹ pre-commit: linting web client..."
cd "$(dirname "$0")/.." || exit 1

if [ -d "web" ]; then
  (cd web && npm run lint && npm run check && npm run test)
fi

echo "ğŸ¦€ pre-commit: rust fmt + clippy..."
(cd server && cargo fmt -- --check && cargo clippy -- -D warnings)

echo "âœ… pre-commit checks passed"
